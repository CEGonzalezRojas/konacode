<html lang="en">
    <head>
        <meta name="viewport" content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0 minimal-ui"/>
        <meta name="apple-mobile-web-app-capable" content="yes"/>
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <meta charset="utf-8">
        <title>SNES</title>
        
        <link async href="css/main.css?t=22" rel="stylesheet" type="text/css">
        
        <script>
            
            window.addEventListener( 'load', _ => {
                
                let completeKonami = false;
                
                c = new KonamiCode({
                        codes: [
                            {
                                skin: KonamiCode.skins.SNES,
                                color: KonamiCode.colors.RAINBOW,
                                callback: exec =>{
                                    if( exec ){

                                        document.body.append( new DOMParser().parseFromString( '<iframe id="completo" src="https://www.youtube.com/embed/wOL3XQcAgsA?autoplay=1" frameborder="0" allowfullscreen allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" style="position:fixed; top: 0; left: 0; height: 100%; width: 100%; pointer-events: none;"></iframe>', 'text/html' ).body.firstChild );

                                    }
                                    else{

                                        document.querySelector("#completo").remove();

                                    }

                                },
                                progress: (count, percent) => {
                                    
                                    if( completeKonami ) return;
                                    
                                    const keys = Array.from( document.querySelectorAll( ".keys > *" ) );
                                    
                                    if( count ){
                                        keys[ count - 1 ].classList.add( 'active' );
                                    }
                                    else{
                                        for( const k of keys ){ k.classList.remove( 'active' ); }
                                    }
                                    
                                    if( percent == 100 ){
                                        completeKonami = true;
                                        document.querySelector( ".keys" ).classList.add( "complete" );
                                        
                                        setTimeout( _ => {
                                            completeKonami = false;
                                            document.querySelector( ".keys" ).classList.remove( "complete" );
                                            for( const k of keys ){ k.classList.remove( 'active' ); }
                                        }, 1000 );
                                        
                                    }
                                    
                                }
                            },
                            {
                                sequence: [ KonamiCode.keys.UP, KonamiCode.keys.DOWN, KonamiCode.keys.DOWN, KonamiCode.keys.X ],
                                skin: KonamiCode.skins.SWITCH,
                                callback: exec =>{
                                
                                }
                            }
                        ]
                        
                    }
                );
                
            });
            
        </script>
    </head>
    <body>
        
        <div class="keys">
            <div data-key="K"></div>
            <div data-key="O"></div>
            <div data-key="N"></div>
            <div data-key="A"></div>
            <div data-key="M"></div>
            <div data-key="I"></div>
            <div data-key="C"></div>
            <div data-key="O"></div>
            <div data-key="D"></div>
            <div data-key="E"></div>
        </div>
        
        <script type="application/javascript" src="src/kc.v2.js?t=22"></script>
    </body>
</html>